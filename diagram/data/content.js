var dataContent = [
{ type: "title", label: "Test: First primary ..." },
{ type: "table", node: "vs", text: "P:,B:,vn:0" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(0)" },
{ type: "state", color: "yellow", node: "vs", label: "Prepare P=s1, wait ACK" },
{ type: "msg", from: "vs", to: "s1", label: "1" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(1)" },
{ type: "state", color: "green", node: "vs", label: "Primary ACK! Apply changes: P1, B_, vn1." },
{ type: "msg", from: "vs", to: "s1", label: "1" },
{ type: "title", label: "Test: First backup ..." },
{ type: "table", node: "vs", text: "P:s1,B:,vn:1" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(1)" },
{ type: "msg", from: "vs", to: "s1", label: "1" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s2", label: "1" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(1)" },
{ type: "msg", from: "vs", to: "s1", label: "1" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(1)" },
{ type: "state", color: "yellow", node: "vs", label: "Prepare B=s2, wait ACK" },
{ type: "msg", from: "vs", to: "s2", label: "1" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(1)" },
{ type: "msg", from: "vs", to: "s1", label: "2" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(1)" },
{ type: "msg", from: "vs", to: "s2", label: "1" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(2)" },
{ type: "state", color: "green", node: "vs", label: "Primary ACK! Apply changes: P1, B2, vn2." },
{ type: "msg", from: "vs", to: "s1", label: "2" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(1)" },
{ type: "msg", from: "vs", to: "s2", label: "2" },
{ type: "title", label: "Test: Backup takes over if primary fails ..." },
{ type: "table", node: "vs", text: "P:s1,B:s2,vn:2" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(2)" },
{ type: "msg", from: "vs", to: "s1", label: "2" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(2)" },
{ type: "msg", from: "vs", to: "s2", label: "2" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(2)" },
{ type: "msg", from: "vs", to: "s2", label: "2" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(2)" },
{ type: "msg", from: "vs", to: "s2", label: "2" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(2)" },
{ type: "msg", from: "vs", to: "s2", label: "2" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(2)" },
{ type: "msg", from: "vs", to: "s2", label: "2" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(2)" },
{ type: "msg", from: "vs", to: "s2", label: "2" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(2)" },
{ type: "next" },
{ type: "state", color: "red", node: "s1", label: "Primary declared dead by VS." },
{ type: "state", color: "yellow", node: "vs", label: "Prepare P=s2, wait ACK" },
{ type: "next" },
{ type: "msg", from: "vs", to: "s2", label: "3" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(3)" },
{ type: "state", color: "green", node: "vs", label: "Primary ACK! Apply changes: P2, B_, vn3." },
{ type: "msg", from: "vs", to: "s2", label: "3" },
{ type: "title", label: "Test: Restarted server becomes backup ..." },
{ type: "table", node: "vs", text: "P:s2,B:,vn:3" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(3)" },
{ type: "msg", from: "vs", to: "s2", label: "3" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s1", label: "3" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(3)" },
{ type: "msg", from: "vs", to: "s2", label: "3" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(3)" },
{ type: "state", color: "yellow", node: "vs", label: "Prepare B=s1, wait ACK" },
{ type: "msg", from: "vs", to: "s1", label: "3" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(3)" },
{ type: "msg", from: "vs", to: "s2", label: "4" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(4)" },
{ type: "state", color: "green", node: "vs", label: "Primary ACK! Apply changes: P2, B1, vn4." },
{ type: "msg", from: "vs", to: "s2", label: "4" },
{ type: "title", label: "Test: Idle third server becomes backup if primary fails ..." },
{ type: "table", node: "vs", text: "P:s2,B:s1,vn:4" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(4)" },
{ type: "msg", from: "vs", to: "s2", label: "4" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s3", label: "4" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(4)" },
{ type: "msg", from: "vs", to: "s1", label: "4" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(4)" },
{ type: "msg", from: "vs", to: "s3", label: "4" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(4)" },
{ type: "msg", from: "vs", to: "s1", label: "4" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(4)" },
{ type: "msg", from: "vs", to: "s3", label: "4" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(4)" },
{ type: "msg", from: "vs", to: "s1", label: "4" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(4)" },
{ type: "msg", from: "vs", to: "s3", label: "4" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(4)" },
{ type: "msg", from: "vs", to: "s1", label: "4" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(4)" },
{ type: "msg", from: "vs", to: "s3", label: "4" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(4)" },
{ type: "msg", from: "vs", to: "s1", label: "4" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(4)" },
{ type: "msg", from: "vs", to: "s3", label: "4" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(4)" },
{ type: "msg", from: "vs", to: "s1", label: "4" },
{ type: "next" },
{ type: "state", color: "red", node: "s2", label: "Primary declared dead by VS." },
{ type: "state", color: "yellow", node: "vs", label: "Prepare P=s1, wait ACK" },
{ type: "next" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(4)" },
{ type: "msg", from: "vs", to: "s3", label: "4" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(4)" },
{ type: "msg", from: "vs", to: "s1", label: "5" },
{ type: "next" },
{ type: "state", color: "red", node: "s2", label: "Primary declared dead by VS." },
{ type: "state", color: "yellow", node: "vs", label: "Prepare P=s1, wait ACK" },
{ type: "next" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(4)" },
{ type: "msg", from: "vs", to: "s3", label: "4" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(5)" },
{ type: "state", color: "green", node: "vs", label: "Primary ACK! Apply changes: P1, B_, vn5." },
{ type: "msg", from: "vs", to: "s1", label: "5" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(4)" },
{ type: "state", color: "yellow", node: "vs", label: "Prepare B=s3, wait ACK" },
{ type: "msg", from: "vs", to: "s3", label: "5" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(5)" },
{ type: "msg", from: "vs", to: "s1", label: "6" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(6)" },
{ type: "state", color: "green", node: "vs", label: "Primary ACK! Apply changes: P1, B3, vn6." },
{ type: "msg", from: "vs", to: "s1", label: "6" },
{ type: "title", label: "Test: Restarted primary treated as dead ..." },
{ type: "table", node: "vs", text: "P:s1,B:s3,vn:6" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(6)" },
{ type: "msg", from: "vs", to: "s1", label: "6" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(0)" },
{ type: "state", color: "red", node: "s1", label: "Primary was restarted!" },
{ type: "state", color: "yellow", node: "vs", label: "Switch P and B, wait ACK." },
{ type: "msg", from: "vs", to: "s1", label: "6" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(6)" },
{ type: "msg", from: "vs", to: "s3", label: "7" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(0)" },
{ type: "state", color: "red", node: "s1", label: "Primary was restarted!" },
{ type: "state", color: "yellow", node: "vs", label: "Switch P and B, wait ACK." },
{ type: "msg", from: "vs", to: "s1", label: "6" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(7)" },
{ type: "state", color: "green", node: "vs", label: "Primary ACK! Apply changes: P3, B1, vn7." },
{ type: "msg", from: "vs", to: "s3", label: "7" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(7)" },
{ type: "msg", from: "vs", to: "s3", label: "7" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(7)" },
{ type: "msg", from: "vs", to: "s3", label: "7" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(7)" },
{ type: "msg", from: "vs", to: "s3", label: "7" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(7)" },
{ type: "msg", from: "vs", to: "s3", label: "7" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(7)" },
{ type: "msg", from: "vs", to: "s3", label: "7" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(7)" },
{ type: "msg", from: "vs", to: "s3", label: "7" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(7)" },
{ type: "msg", from: "vs", to: "s3", label: "7" },
{ type: "next" },
{ type: "state", color: "yellow", node: "vs", label: "Prepare B='', wait ACK" },
{ type: "state", color: "red", node: "s1", label: "Backup declared dead by VS." },
{ type: "next" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(7)" },
{ type: "msg", from: "vs", to: "s3", label: "8" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(8)" },
{ type: "state", color: "green", node: "vs", label: "Primary ACK! Apply changes: P3, B_, vn8." },
{ type: "msg", from: "vs", to: "s3", label: "8" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(8)" },
{ type: "msg", from: "vs", to: "s3", label: "8" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(8)" },
{ type: "msg", from: "vs", to: "s3", label: "8" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(8)" },
{ type: "msg", from: "vs", to: "s3", label: "8" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(8)" },
{ type: "msg", from: "vs", to: "s3", label: "8" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(8)" },
{ type: "msg", from: "vs", to: "s3", label: "8" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(8)" },
{ type: "msg", from: "vs", to: "s3", label: "8" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(8)" },
{ type: "msg", from: "vs", to: "s3", label: "8" },
{ type: "title", label: "Test: Viewserver waits for primary to ack view ..." },
{ type: "table", node: "vs", text: "P:s3,B:,vn:8" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s1", label: "8" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(8)" },
{ type: "msg", from: "vs", to: "s3", label: "8" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(8)" },
{ type: "state", color: "yellow", node: "vs", label: "Prepare B=s1, wait ACK" },
{ type: "msg", from: "vs", to: "s1", label: "8" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(8)" },
{ type: "msg", from: "vs", to: "s3", label: "9" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(8)" },
{ type: "msg", from: "vs", to: "s1", label: "8" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(9)" },
{ type: "state", color: "green", node: "vs", label: "Primary ACK! Apply changes: P3, B1, vn9." },
{ type: "msg", from: "vs", to: "s3", label: "9" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "9" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "9" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "9" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "9" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "9" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "9" },
{ type: "next" },
{ type: "state", color: "red", node: "s3", label: "Primary declared dead by VS." },
{ type: "state", color: "yellow", node: "vs", label: "Prepare P=s1, wait ACK" },
{ type: "next" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "10" },
{ type: "title", label: "Test: Uninitialized server can't become primary ..." },
{ type: "table", node: "vs", text: "P:s3,B:s1,vn:9" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "10" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s3", label: "10" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "10" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s3", label: "10" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "10" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s3", label: "10" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "10" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s3", label: "10" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "10" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s3", label: "10" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "10" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s3", label: "10" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "10" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s3", label: "10" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "10" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s3", label: "10" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "10" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s3", label: "10" },
{ type: "msg", from: "s1", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s1", label: "10" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s3", to: "vs", label: "Ping(9)" },
{ type: "msg", from: "vs", to: "s3", label: "10" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "next" },
{ type: "state", color: "red", node: "s3", label: "Primary declared dead by VS." },
{ type: "state", color: "yellow", node: "vs", label: "Prepare P=s1, wait ACK" },
{ type: "next" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "next" },
{ type: "state", color: "red", node: "s3", label: "Primary declared dead by VS." },
{ type: "state", color: "yellow", node: "vs", label: "Prepare P=s1, wait ACK" },
{ type: "next" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "next" },
{ type: "state", color: "red", node: "s3", label: "Primary declared dead by VS." },
{ type: "state", color: "yellow", node: "vs", label: "Prepare P=s1, wait ACK" },
{ type: "next" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "next" },
{ type: "state", color: "red", node: "s3", label: "Primary declared dead by VS." },
{ type: "state", color: "yellow", node: "vs", label: "Prepare P=s1, wait ACK" },
{ type: "next" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "next" },
{ type: "state", color: "red", node: "s3", label: "Primary declared dead by VS." },
{ type: "state", color: "yellow", node: "vs", label: "Prepare P=s1, wait ACK" },
{ type: "next" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "msg", from: "s2", to: "vs", label: "Ping(0)" },
{ type: "next" },
{ type: "state", color: "red", node: "s3", label: "Primary declared dead by VS." },
{ type: "state", color: "yellow", node: "vs", label: "Prepare P=s1, wait ACK" },
{ type: "next" },
{ type: "msg", from: "vs", to: "s2", label: "9" },
{ type: "next" },
{ type: "state", color: "red", node: "s3", label: "Primary declared dead by VS." },
{ type: "state", color: "yellow", node: "vs", label: "Prepare P=s1, wait ACK" },
{ type: "next" },
]
